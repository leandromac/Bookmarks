  <div class="row columns">
  <%= form_for(@booksmark) do |f| %>
    <% if @booksmark.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@booksmark.errors.count, "error") %> prohibited this booksmark from being saved:</h2>

        <ul>
        <% @booksmark.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div class="field">
      URL<br>
      <%= f.text_field :url, :onBlur => "fetchUrl()" %>
    </div>

    <div class="field">
      Title<br>
      <%= f.text_field :title, :placeholder => "Wait for the load title automatically..." %>
    </div>

    <div class="actions text-right">
      <%= f.submit "Update bookmark", :class => "button success" %>
    </div>
  <% end %>

  <script type="text/javascript" defer>
     function fetchUrl() {
       var url = document.getElementById( "booksmark_url" ).value;
       $.ajax({
           type: 'GET',
           url: "/booksmarks/get_title?url=" + url,
           success: function(data){
               $("#booksmark_title").val(data);
           },
           dataType: 'text'
       });
     }
   </script>
   </div>